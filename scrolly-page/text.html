<!DOCTYPE html>
<html>

<head>
    <title>Text</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="text.css" />
    <script src="https://unpkg.com/hyperscript.org@0.9.14"></script>
</head>

<body>
    <header>
        <nav>
            <div>Frankfurter Postzeitung</div>
            <div>Men√º</div>
        </nav>
    </header>
    <main>
        <div class="main-wrapper">
            <div class="top-wrapper">
                <section class="topics"><h4>Themen</h4><button>‚ñ≤</button></section>
                <section class="calendar"><h4>Kalender</h4><button>‚ñ≤</button></section>
                <section class="issues"><h4>Ausgabe</h4><button>‚ñ≤</button><br />
                    <ul class="volume-issues">
                        <li>1</li>
                        <li>2</li>
                        <li>3</li>
                        <li>4</li>
                        <li>6</li>
                        <li>11</li>
                        <li>12</li>
                        <li>15</li>
                        <li>17</li>
                        <li>18</li>
                        <li>22</li>
                        <li>23</li>
                        <li>30</li>
                        <li>32</li>
                        <li>35</li>
                        <li>39</li>
                        <li>40</li>
                        <li>41</li>
                        <li>42</li>
                        <li>43</li>
                        <li>44</li>
                        <li>46</li>
                        <li>47</li>
                        <li>49</li>
                        <li>50</li>
                        <li>51</li>
                        <li>52</li>
                        <li>53</li>
                        <li>54</li>
                        <li>55</li>
                        <li>57</li>
                        <li>58</li>
                        <li>59</li>
                        <li>61</li>
                        <li>63</li>
                        <li>65</li>
                        <li>66</li>
                        <li>67</li>
                        <li>68</li>
                        <li>69</li>
                        <li>70</li>
                        <li>71</li>
                        <li>72</li>
                        <li>73</li>
                    </ul>
                </section>
                <section class="search"><h4>Suche</h4><button>expand</button><br /><input type="text"></input>üîç</section>
                <section class="persons"><h4>Personen</h4><button>expand</button></section>
                <section class="places"><h4>Orte</h4><button>expand</button></section>
            </div>

            <!-- top row indicators -->
            <div class="carousel-indicators top-indicators" aria-hidden="false"></div>

            <div class="heading">
                <h2>Ausgabe 1/5 ‚Äì Breslau, 17.12.1619</h2>
            </div>
            <div class="bottom-wrapper">
                <section class="facsimile">
                    <img src="02.png" alt="Faksimile" class="fit-picture">
                </section>
                <section class="diplomatic-transcript">
                    <h3>Aus Breslaw vom 17. Ditto.</h3>
                    <p>
                        Wegen der Polen Einfall in Schlesien ists nicht so gro√ü als mans gemacht/ und hat der <span class="entity"
                            _="on click go to the top of #Q52940 smoothly then toggle .red on #Q52940 wait 2s toggle .red on #Q52940">K√∂nig in Polen</span>
                        dieser tagen mit eygner Hand dem OberHauptmann Hertzog Johan Christian nach Briegh geschriebe(n)/ es
                        d√∂rffte sich Schlesien vor ihme und seinen Vnderthanen nicht besorgen/ dann er wolle die Compactata
                        mit Schlesien durchau√ü nicht brechen/ auch in seinem ganzen K√∂nigreich publiciren lassen/ da√ü sich
                        niemand vnderstehen solle den Schlesiern einige(n) verdru√ü anzuthun/ da√ü man also verhofft/ es
                        werden selbiger Orten keine so hitzige Consilia mehr fallen/ ob wol nun dieses gewi√ü traut man doch
                        nicht gar sondern stellt das defension wesen de√ü 20. Manns noch starck fort/ unnd mustert man heut
                        im Bre√ülawischen Krey√ü die Reuterey/ morgen wird man das Fu√üvolck mustern.
                    </p>
                    <p>
                        <span class="entity" _="on click go to the top of #Q112083 smoothly then toggle .red on #Q112083 wait 2s toggle .red on #Q112083">Vnser Bischoff von der Neu√ü</span> ist au√ü Polen durch Preussen hinau√ü in sein Gro√ümeisterrtumb Mergenthal
                        verreist/ wie man au√ügibt/ wird er sich in kurtz allhie einstellen/ und dem Land accommodiren.
                    </p>
                </section>
                <section class="normalized-transcript">
                    <h3>Aus Breslau vom 17. dito.</h3>
                    <p>
                        Wegen der Polen Einfall in Schlesien ist's nicht so gro√ü als man's gemacht, und hat der <a href="text.html#Q52940">
                            K√∂nig in
                            Polen
                        </a> dieser Tagen mit eigner Hand dem Ober-Hauptmann Herzog Johan Christian nach Briegh
                        geschrieben, es d√ºrffte sich Schlesien vor ihm und seinen Untertanen nicht besorgen, denn er wolle
                        die Compactata mit Schlesien durchaus nicht brechen, auch in seinem ganzen K√∂nigreich publizieren
                        lassen, dass sich niemand unterstehen solle den Schlesiern einigen Verdruss anzutun, dass man also
                        verhofft, es werden selbiger Orten keine so hitzige Consilia mehr fallen, obwohl nun dieses gewiss
                        traut man doch nicht gar sondern stellt das defension-Wesen des 20. Manns noch stark fort, und
                        mustert man heute im Bresslauischen Kreis die Reiterei, morgen wird man das Fu√üvolk mustern.
                    </p>
                    <p>
                        Unser Bischoff von der Neu√ü ist aus Polen durch Preussen hinaus in sein Gro√ümeistertum Mergenthal
                        verreist, wie man ausgibt, wird er sich in K√ºrze allhier einstellen, und dem Land accommodiren.
                    </p>
                </section>
                <section class="translation">
                    <h3>Aus Breslau vom 17.12.1619.</h3>
                    <p>
                        Wegen des polnischen Einfalls in Schlesien ist die Lage nicht so ernst, wie man sie dargestellt
                        hat. Der <a href="text.html#Q52940">K√∂nig von Polen</a> hat dieser Tage eigenh√§ndig dem Oberhauptmann Herzog Johann Christian nach
                        Brieg geschrieben, Schlesien brauche sich seinetwegen und wegen seiner Untertanen nicht zu f√ºrchten.
                        Denn er wolle die Vereinbarungen mit Schlesien keineswegs brechen und im ganzen K√∂nigreich
                        √∂ffentlich verk√ºnden lassen, dass niemand es wagen solle, den Schlesiern irgendeinen Schaden
                        zuzuf√ºgen.
                        Man hofft daher, dass an diesen Orten keine so hitzigen Beschl√ºsse mehr fallen werden.Obwohl dies
                        gewiss sein soll, traut man dem doch nicht ganz, sondern setzt das Verteidigungswesen doch noch
                        kr√§ftig fort, das 20-Mann-System wird weiter verst√§rkt, und im Breslauer Kreis mustert man heute die
                        Reiterei; morgen wird auch das Fu√üvolk gemustert.
                    </p>
                    <p>
                        Unser Bischof von Neisse ist aus Polen √ºber Preu√üen in sein gro√ümeisterliches Gebiet Mergenthal
                        gereist. Wie man h√∂rt, wird er sich in K√ºrze hier einfinden und sich um das Land k√ºmmern.
                    </p>
                </section>
                <section class="entites">
                    <ul>
                        <li id="Q52940"><span class="li-label">K√∂nig in Polen</span> = Sigismund III. Wasa, K√∂nig von Polen von 1587-1632</li>
                        <li><span class="li-label">Herzog Johann Christian</span> = Von 1617 bis 1620 Oberhauptmann von Schlesien</li>
                        <li id="Q112083">
                            <span class="li-label">Bischof von der Neu√ü</span> = Karl von √ñsterreich, F√ºrstbischhof von Breslau, gleichzeitig
                            Hochmeister des
                            Deutschen Ordens mit einem Sitz in Mergentheim (heute BaW√º)
                        </li>
                        <li>
                            <span class="li-label">Gro√ümeistertum Mergenthal</span> = (Mergenthal= Mergentheim); wird Gro√ümeistertum genannt, weil es
                            der
                            offizielle Sitz und das Herrschaftsgebiet des Gro√ümeisters des Deutschen Ordens war.
                        </li>
                        <li>
                            <span class="li-label">defensionswesen des 20. Manns</span> = Verteidigungswesen: Gemeinden wurden in Gruppen von 20
                            Haushalten
                            eigneteilt. Einer der 20 M√§nner wird f√ºr den Kriegsdienst ausgew√§hlt, die andern 19 M√§nner
                            legen
                            Geld zusammen um dem 20. Mann die Ausr√ºstung zu bezahlen
                        </li>
                        <li><span class="li-label">compacta</span> = √úbereink√ºnfte/ Abkommen/ Vertrag</li>
                        <li><span class="li-label">accomodieren</span> = anpassen, sich einrichten</li>
                        <li><span class="li-label">Vnderthanen</span> = Untertahnen</li>
                        <li><span class="li-label">vnderstehen</span> = wagen, unterstehen</li>
                        <li><span class="li-label">Consilia</span> = Entschluss, Beschluss</li>
                        <li><span class="li-label">Reuterey</span> = Reiterei</li>
                    </ul>
                </section>
                <section class="commentary">
                    [Erhellender Kommentar]
                </section>
            </div>

            <!-- bottom row indicators -->
            <div class="carousel-indicators bottom-indicators" aria-hidden="false"></div>
        </div>
    </main>

    <script>
        // create indicators for a wrapper and wire up scroll/click sync
        (function () {
            function setupCarousel(wrapperSel, indicatorSel) {
                const wrapper = document.querySelector(wrapperSel);
                const indicatorsContainer = document.querySelector(indicatorSel);
                if (!wrapper || !indicatorsContainer) return;
                const items = Array.from(wrapper.querySelectorAll('section'));
                if (!items.length) return;

                // generate dots
                items.forEach((_, i) => {
                    const btn = document.createElement('button');
                    btn.type = 'button';
                    btn.className = 'indicator';
                    btn.setAttribute('aria-label', `Go to item ${i + 1}`);
                    btn.dataset.index = i;
                    btn.setAttribute('aria-pressed', 'false');
                    btn.addEventListener('click', () => {
                        items[i].scrollIntoView({ behavior: 'smooth', inline: 'start' });
                    });
                    indicatorsContainer.appendChild(btn);
                });

                const dots = Array.from(indicatorsContainer.children);

                // set active dot by finding the closest element to scrollLeft
                let raf = null;
                function updateActive() {
                    if (raf) cancelAnimationFrame(raf);
                    raf = requestAnimationFrame(() => {
                        let closestIndex = 0;
                        let closestDist = Infinity;
                        const scrollLeft = wrapper.scrollLeft;
                        items.forEach((el, idx) => {
                            const dist = Math.abs(el.offsetLeft - scrollLeft);
                            if (dist < closestDist) {
                                closestDist = dist;
                                closestIndex = idx;
                            }
                        });
                        dots.forEach((d, idx) => d.setAttribute('aria-pressed', String(idx === closestIndex)));
                    });
                }

                // initial active
                updateActive();

                // sync on scroll and resize
                let scrollTimer;
                wrapper.addEventListener('scroll', updateActive, { passive: true });
                window.addEventListener('resize', () => {
                    updateActive();
                    // small debounce to avoid over-triggering
                    clearTimeout(scrollTimer);
                    scrollTimer = setTimeout(updateActive, 120);
                });
            }

            document.addEventListener('DOMContentLoaded', function () {
                setupCarousel('.top-wrapper', '.top-indicators');
                setupCarousel('.bottom-wrapper', '.bottom-indicators');

                // expand/collapse behaviour for .top-wrapper buttons
                const mainWrapper = document.querySelector('.main-wrapper');
                const topButtons = Array.from(document.querySelectorAll('.top-wrapper > section button'));

                if (mainWrapper && topButtons.length) {
                    // initialize ARIA and button text
                    function setButtonsState(expanded) {
                        const text = expanded ? '‚ñº' : '‚ñ≤';
                        topButtons.forEach(btn => {
                            btn.textContent = text;
                            btn.setAttribute('aria-pressed', String(expanded));
                            btn.setAttribute('aria-expanded', String(expanded));
                        });
                    }
                    setButtonsState(false);

                    function toggleTop() {
                        const expanded = mainWrapper.classList.toggle('top-expanded');
                        setButtonsState(expanded);
                    }

                    topButtons.forEach(btn => btn.addEventListener('click', toggleTop));
                }
            });
        })();
    </script>
</body>

</html>